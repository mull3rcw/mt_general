
#EDIT ~/.bashrc
#source .my_bash


# Create rootfs.ubifs.img

b_bash_version () {
    echo "Version 1.1"
}

bkernel () {
ldecmd build kernel;
    if [ -z "$1" ]
             then
                echo "-Parameter 1 is missing"
                exit 0
             else
                echo "-Parameter 1 is \"$1\"."
                copy2tftp "system/linux/arch/arm/boot/uImage" "$1"
             fi
}

broot () {
ldecmd build addons;
ldecmd make -M-w =basic -- all;
ldecmd make =hcr4 -- all;
ldecmd make =basic -- install;
ldecmd make =hcr4 -- install;
ldecmd build buildroot;
ldecmd build rootfs;

    if [ -z "$1" ]
             then
                echo "-Parameter 1 is missing"
                exit 0
             else
                echo "-Parameter 1 is \"$1\"."
                copy2tftp "user/images/rootfs.ubifs.img" "$1"
             fi
}



# make SCP U-BOOT function
make_scp () {   /opt/maxim/tools/PACKAGE_FLORA_1.2.4/Host/customer_scripts/scripts/build_application.sh "$@"/system/u-boot/u-boot.bin.sbin "$@"/make-scp-boot.scp /opt/maxim/tools/PACKAGE_FLORA_1.2.4/Host/customer_scripts/keys/maximtestcrk.key;}



clean_eclipse () {
    rm /opt/maxim/tools/workspace-lde/.metadata/.plugins/org.eclipse.core.resources/.snap
    /opt/maxim/tools/eclipse/eclipse &
}

new_uboot () {
	ldecmd make bootstrap -- distclean;
	ldecmd make -- CFGNAME=jibeposv1-4 bootdefconfig;
	ldecmd make -- bootstrap;
}


copy2tftp () {
    if [ -z "$1" ]
    then
        echo "-\n\n\n Error!!!! Parameter 1 is missing\n"
        exit 0
    else
        echo "-P1 is \"$1\"."
    fi

    SRC=$1
    SRC_NAME=$(basename $1)

	[[ -f "$1" ]] && echo "" || echo -e "\n\nCheck OUTPUT dir, is it correct? ex. 'output'\n\n"

    if [ "$2" ]
    then
        echo "-P2 is \"$2\"."
    else
        echo "EMPTY"
        exit 0
    fi

    cp "$1" /tftpboot/"$2"/"$SRC_NAME"
}

source /opt/maxim/tools/cdlde.sh

# The following lines have been added by the setupbuild.sh script.
#if [ -f /opt/maxim/tools/.buildvar ] ; then
#    . /opt/maxim/tools/.buildvar
#fi

shr;

